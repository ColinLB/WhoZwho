<!--
Copyright (C) 2012 C. R. Leavett-Brown
You may distribute under the terms of either the GNU General Public
License or the Apache v2 License, as specified in the README file.
-->

{% extends "SessionAuthenticated.html" %}

{% block headers %}
    <script type="text/javascript" src="{{ ZS.httpURL }}static/js/Cookie.js"></script>
    <script type="text/javascript" src="{{ ZS.httpURL }}static/js/DirectoryList.js"></script>
    <script type="text/javascript" src="{{ ZS.httpURL }}static/js/SessionFunctions.js"></script>
    <script type="text/javascript">
         function initialize() {
             DirectoryListSwitchRe();
         }
    </script>
{% endblock %}

{% block body %}
    <table><tr>
        <td class="left_margin"></td>
        <td>
            <div id="subtabs">
                {% if select_tab = 'C' %}
                    <a id="subtabsC" class="subtabs_selected" onclick="DirectoryListSwitchTab('C');">&nbspChurch&nbsp</a>
                {% else %}
                    <a id="subtabsC" class="subtabs_deselected" onclick="DirectoryListSwitchTab('C');">&nbspChurch&nbsp</a>
                {% endif %}

                {% if select_tab = 'F' %}
                    <a id="subtabsF" class="subtabs_selected" onclick="DirectoryListSwitchTab('F');">&nbspFriends&nbsp</a>
                {% else %}
                    <a id="subtabsF" class="subtabs_deselected" onclick="DirectoryListSwitchTab('F');">&nbspFriends&nbsp</a>
                {% endif %}

                {% if select_tab = 'T' %}
                    <a id="subtabsT" class="subtabs_selected" onclick="DirectoryListSwitchTab('T');">&nbspTips&nbsp</a>
                {% else %}
                    <a id="subtabsT" class="subtabs_deselected" onclick="DirectoryListSwitchTab('T');">&nbspTips&nbsp</a>
                {% endif %}

                <a class="more_info" href="{{ ZS.httpURL }}print/{{ browser_tab }}">&nbsp;Print&nbsp;</a>
            </div id="subtabs">

            <input id="selector" value="{{ select_re }}" placeholder="Select" maxlength="16" onkeyup="DirectoryListSwitchRe();" />

            <div id="List">
                {% if select_tab = 'C' %}
                    <div id="ListC" style="display:block">
                {% else %}
                    <div id="ListC" style="display:none">
                {% endif %}
                
                    <br><br>
                    {% for name in church_list %}

                        <div class="tile" id="{{ name.last }},{{ name.first}}"> 
                            {% if name.private %}
                                <a class="more_info" href="{{ ZS.httpURL }}editpc/{{ name.id }}/{{ browser_tab }}">
                            {% else %}
                                <a class="more_info" href="{{ ZS.httpURL }}ename/{{ name.id }}/{{ browser_tab }}">
                            {% endif %}

                                {% if name.private %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/defaults/greyman.jpg">
                                {% elif name.picture_uploaded %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/names/{{ name.id }}.jpg">
                                {% else %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/defaults/greenman.jpg">
                                {% endif %}

                                <br>{{ name.last }}, {{ name.first }}
                            </a>
                        </div class="tile" id="{{ name.last }},{{ name.first}}"> 
                    {% endfor %}
                </div id="ListC">

                {% if select_tab = 'F' %}
                    <div id="ListF" style="display:block">
                {% else %}
                    <div id="ListF" style="display:none">
                {% endif %}
                
                    <br><br>
                    {% for name in friend_list %}

                        <div class="tile" id="{{ name.last }},{{ name.first}}"> 
                            {% if name.private %}
                                <a class="more_info" href="{{ ZS.httpURL }}editpc/{{ name.id }}/{{ browser_tab }}">
                            {% else %}
                                <a class="more_info" href="{{ ZS.httpURL }}ename/{{ name.id }}/{{ browser_tab }}">
                            {% endif %}

                                {% if name.private %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/defaults/greyman.jpg">
                                {% elif name.picture_uploaded %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/names/{{ name.id }}.jpg">
                                {% else %}
                                    <img class="tile_image" src="{{ ZS.httpURL }}static/pics/defaults/greenman.jpg">
                                {% endif %}

                                <br>{{ name.last }}, {{ name.first }}
                            </a>
                        </div class="tile" id="{{ name.last }},{{ name.first}}"> 
                    {% endfor %}
                </div id="ListF">

                {% if select_tab = 'T' %}
                    <div id="ListT" style="display:block">
                {% else %}
                    <div id="ListT" style="display:none">
                {% endif %}
                    <br><br>
                    Use the select entry field to filter the names displayed as follows:

                    <ul>
                        <li> For names containing "ry" type "ry".
                        <li> For lastnames beginning with "G" type "^g".
                        <li> For firstnames beginning with "B" type ",b".
                    </ul>
                </div id="ListT">

            </div id="List">
        </td>
    </tr></table>
{% endblock %}
